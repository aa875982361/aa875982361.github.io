<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="个人学习笔记，仅供本人复习">
<meta property="og:type" content="website">
<meta property="og:title" content="叶落林间">
<meta property="og:url" content="http://nisonfuture.cn/page/5/index.html">
<meta property="og:site_name" content="叶落林间">
<meta property="og:description" content="个人学习笔记，仅供本人复习">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="叶落林间">
<meta name="twitter:description" content="个人学习笔记，仅供本人复习">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://nisonfuture.cn/page/5/"/>





  <title>叶落林间</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">叶落林间</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">你只有非常努力，才能看起来毫不费力</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://nisonfuture.cn/2018/03/08/路由跳转问题/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Pling Huang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="叶落林间">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/08/路由跳转问题/" itemprop="url">路由跳转问题</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-08T09:35:59+08:00">
                2018-03-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/programming/" itemprop="url" rel="index">
                    <span itemprop="name">编程</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>观察路由跳转，我发现是通过<br><code>yield put(routerRedux.push(&#39;/dashboard/analysis&#39;));</code><br>这行代码来进行跳转，但是却跳不过去<br>好像触发了路由守卫，没有身份验证成功 所以跳不过去 ，<br>找到一个 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;AuthorizedRoute</span><br><span class="line">           path=&quot;/&quot;</span><br><span class="line">           render=&#123;props =&gt; &lt;BasicLayout &#123;...props&#125; /&gt;&#125;</span><br><span class="line">           authority=&#123;[&apos;admin&apos;, &apos;user&apos;]&#125;</span><br><span class="line">           redirectPath=&quot;/user/login&quot;</span><br><span class="line">         /&gt;</span><br></pre></td></tr></table></figure>
<p><img src="./images/1520476708644.jpg" alt="enter description here"></p>
<p>通过看连接 发现 这个被我nginx反向代理向公司服务器转发了 。。。。。。好无语</p>
<p>就算将nginx 的配置只转发 登录的接口 但是 在获取数据的时候回出现问题，有两个请求得不到数据，我手动构造了数据之后就可以正常返回 </p>
<p>D:\luwei\project\wallpaper\wallpaper\src\models\user.js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">const response = &#123;</span><br><span class="line">  name: &apos;Serati Ma&apos;,</span><br><span class="line">  avatar: &apos;https://gw.alipayobjects.com/zos/rmsportal/BiazfanxmamNRoxxVxka.png&apos;,</span><br><span class="line">  userid: &apos;00000001&apos;,</span><br><span class="line">  notifyCount: 12,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>D:\luwei\project\wallpaper\wallpaper\src\services\api.js<br> 修改返回结果就好 太长就放在最后面了</p>
<p> 所以修改状态是可以的 路由跳转也是可以的 只是之前路由跳转发生错误就返回到原先的路由中<br> 接下来 构建管理端的页面</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export async function fakeChartData() &#123;</span><br><span class="line">  return &#123;&quot;visitData&quot;:[&#123;&quot;x&quot;:&quot;2018-03-08&quot;,&quot;y&quot;:7&#125;,&#123;&quot;x&quot;:&quot;2018-03-09&quot;,&quot;y&quot;:5&#125;,&#123;&quot;x&quot;:&quot;2018-03-10&quot;,&quot;y&quot;:4&#125;,&#123;&quot;x&quot;:&quot;2018-03-11&quot;,&quot;y&quot;:2&#125;,&#123;&quot;x&quot;:&quot;2018-03-12&quot;,&quot;y&quot;:4&#125;,&#123;&quot;x&quot;:&quot;2018-03-13&quot;,&quot;y&quot;:7&#125;,&#123;&quot;x&quot;:&quot;2018-03-14&quot;,&quot;y&quot;:5&#125;,&#123;&quot;x&quot;:&quot;2018-03-15&quot;,&quot;y&quot;:6&#125;,&#123;&quot;x&quot;:&quot;2018-03-16&quot;,&quot;y&quot;:5&#125;,&#123;&quot;x&quot;:&quot;2018-03-17&quot;,&quot;y&quot;:9&#125;,&#123;&quot;x&quot;:&quot;2018-03-18&quot;,&quot;y&quot;:6&#125;,&#123;&quot;x&quot;:&quot;2018-03-19&quot;,&quot;y&quot;:3&#125;,&#123;&quot;x&quot;:&quot;2018-03-20&quot;,&quot;y&quot;:1&#125;,&#123;&quot;x&quot;:&quot;2018-03-21&quot;,&quot;y&quot;:5&#125;,&#123;&quot;x&quot;:&quot;2018-03-22&quot;,&quot;y&quot;:3&#125;,&#123;&quot;x&quot;:&quot;2018-03-23&quot;,&quot;y&quot;:6&#125;,&#123;&quot;x&quot;:&quot;2018-03-24&quot;,&quot;y&quot;:5&#125;],&quot;visitData2&quot;:[&#123;&quot;x&quot;:&quot;2018-03-08&quot;,&quot;y&quot;:1&#125;,&#123;&quot;x&quot;:&quot;2018-03-09&quot;,&quot;y&quot;:6&#125;,&#123;&quot;x&quot;:&quot;2018-03-10&quot;,&quot;y&quot;:4&#125;,&#123;&quot;x&quot;:&quot;2018-03-11&quot;,&quot;y&quot;:8&#125;,&#123;&quot;x&quot;:&quot;2018-03-12&quot;,&quot;y&quot;:3&#125;,&#123;&quot;x&quot;:&quot;2018-03-13&quot;,&quot;y&quot;:7&#125;,&#123;&quot;x&quot;:&quot;2018-03-14&quot;,&quot;y&quot;:2&#125;],&quot;salesData&quot;:[&#123;&quot;x&quot;:&quot;1月&quot;,&quot;y&quot;:881&#125;,&#123;&quot;x&quot;:&quot;2月&quot;,&quot;y&quot;:345&#125;,&#123;&quot;x&quot;:&quot;3月&quot;,&quot;y&quot;:707&#125;,&#123;&quot;x&quot;:&quot;4月&quot;,&quot;y&quot;:1191&#125;,&#123;&quot;x&quot;:&quot;5月&quot;,&quot;y&quot;:976&#125;,&#123;&quot;x&quot;:&quot;6月&quot;,&quot;y&quot;:1020&#125;,&#123;&quot;x&quot;:&quot;7月&quot;,&quot;y&quot;:1088&#125;,&#123;&quot;x&quot;:&quot;8月&quot;,&quot;y&quot;:227&#125;,&#123;&quot;x&quot;:&quot;9月&quot;,&quot;y&quot;:699&#125;,&#123;&quot;x&quot;:&quot;10月&quot;,&quot;y&quot;:570&#125;,&#123;&quot;x&quot;:&quot;11月&quot;,&quot;y&quot;:852&#125;,&#123;&quot;x&quot;:&quot;12月&quot;,&quot;y&quot;:617&#125;],&quot;searchData&quot;:[&#123;&quot;index&quot;:1,&quot;keyword&quot;:&quot;搜索关键词-0&quot;,&quot;count&quot;:924,&quot;range&quot;:48,&quot;status&quot;:0&#125;,&#123;&quot;index&quot;:2,&quot;keyword&quot;:&quot;搜索关键词-1&quot;,&quot;count&quot;:840,&quot;range&quot;:28,&quot;status&quot;:1&#125;,&#123;&quot;index&quot;:3,&quot;keyword&quot;:&quot;搜索关键词-2&quot;,&quot;count&quot;:177,&quot;range&quot;:65,&quot;status&quot;:0&#125;,&#123;&quot;index&quot;:4,&quot;keyword&quot;:&quot;搜索关键词-3&quot;,&quot;count&quot;:886,&quot;range&quot;:83,&quot;status&quot;:0&#125;,&#123;&quot;index&quot;:5,&quot;keyword&quot;:&quot;搜索关键词-4&quot;,&quot;count&quot;:866,&quot;range&quot;:3,&quot;status&quot;:0&#125;,&#123;&quot;index&quot;:6,&quot;keyword&quot;:&quot;搜索关键词-5&quot;,&quot;count&quot;:671,&quot;range&quot;:15,&quot;status&quot;:1&#125;,&#123;&quot;index&quot;:7,&quot;keyword&quot;:&quot;搜索关键词-6&quot;,&quot;count&quot;:98,&quot;range&quot;:65,&quot;status&quot;:1&#125;,&#123;&quot;index&quot;:8,&quot;keyword&quot;:&quot;搜索关键词-7&quot;,&quot;count&quot;:793,&quot;range&quot;:49,&quot;status&quot;:0&#125;,&#123;&quot;index&quot;:9,&quot;keyword&quot;:&quot;搜索关键词-8&quot;,&quot;count&quot;:1,&quot;range&quot;:40,&quot;status&quot;:1&#125;,&#123;&quot;index&quot;:10,&quot;keyword&quot;:&quot;搜索关键词-9&quot;,&quot;count&quot;:811,&quot;range&quot;:15,&quot;status&quot;:1&#125;,&#123;&quot;index&quot;:11,&quot;keyword&quot;:&quot;搜索关键词-10&quot;,&quot;count&quot;:695,&quot;range&quot;:3,&quot;status&quot;:0&#125;,&#123;&quot;index&quot;:12,&quot;keyword&quot;:&quot;搜索关键词-11&quot;,&quot;count&quot;:78,&quot;range&quot;:50,&quot;status&quot;:0&#125;,&#123;&quot;index&quot;:13,&quot;keyword&quot;:&quot;搜索关键词-12&quot;,&quot;count&quot;:849,&quot;range&quot;:75,&quot;status&quot;:0&#125;,&#123;&quot;index&quot;:14,&quot;keyword&quot;:&quot;搜索关键词-13&quot;,&quot;count&quot;:646,&quot;range&quot;:90,&quot;status&quot;:1&#125;,&#123;&quot;index&quot;:15,&quot;keyword&quot;:&quot;搜索关键词-14&quot;,&quot;count&quot;:78,&quot;range&quot;:63,&quot;status&quot;:0&#125;,&#123;&quot;index&quot;:16,&quot;keyword&quot;:&quot;搜索关键词-15&quot;,&quot;count&quot;:553,&quot;range&quot;:6,&quot;status&quot;:0&#125;,&#123;&quot;index&quot;:17,&quot;keyword&quot;:&quot;搜索关键词-16&quot;,&quot;count&quot;:263,&quot;range&quot;:12,&quot;status&quot;:0&#125;,&#123;&quot;index&quot;:18,&quot;keyword&quot;:&quot;搜索关键词-17&quot;,&quot;count&quot;:742,&quot;range&quot;:25,&quot;status&quot;:0&#125;,&#123;&quot;index&quot;:19,&quot;keyword&quot;:&quot;搜索关键词-18&quot;,&quot;count&quot;:724,&quot;range&quot;:33,&quot;status&quot;:1&#125;,&#123;&quot;index&quot;:20,&quot;keyword&quot;:&quot;搜索关键词-19&quot;,&quot;count&quot;:705,&quot;range&quot;:76,&quot;status&quot;:1&#125;,&#123;&quot;index&quot;:21,&quot;keyword&quot;:&quot;搜索关键词-20&quot;,&quot;count&quot;:27,&quot;range&quot;:9,&quot;status&quot;:1&#125;,&#123;&quot;index&quot;:22,&quot;keyword&quot;:&quot;搜索关键词-21&quot;,&quot;count&quot;:967,&quot;range&quot;:85,&quot;status&quot;:1&#125;,&#123;&quot;index&quot;:23,&quot;keyword&quot;:&quot;搜索关键词-22&quot;,&quot;count&quot;:516,&quot;range&quot;:52,&quot;status&quot;:0&#125;,&#123;&quot;index&quot;:24,&quot;keyword&quot;:&quot;搜索关键词-23&quot;,&quot;count&quot;:541,&quot;range&quot;:15,&quot;status&quot;:1&#125;,&#123;&quot;index&quot;:25,&quot;keyword&quot;:&quot;搜索关键词-24&quot;,&quot;count&quot;:96,&quot;range&quot;:57,&quot;status&quot;:0&#125;,&#123;&quot;index&quot;:26,&quot;keyword&quot;:&quot;搜索关键词-25&quot;,&quot;count&quot;:829,&quot;range&quot;:60,&quot;status&quot;:0&#125;,&#123;&quot;index&quot;:27,&quot;keyword&quot;:&quot;搜索关键词-26&quot;,&quot;count&quot;:87,&quot;range&quot;:22,&quot;status&quot;:1&#125;,&#123;&quot;index&quot;:28,&quot;keyword&quot;:&quot;搜索关键词-27&quot;,&quot;count&quot;:237,&quot;range&quot;:81,&quot;status&quot;:1&#125;,&#123;&quot;index&quot;:29,&quot;keyword&quot;:&quot;搜索关键词-28&quot;,&quot;count&quot;:873,&quot;range&quot;:12,&quot;status&quot;:1&#125;,&#123;&quot;index&quot;:30,&quot;keyword&quot;:&quot;搜索关键词-29&quot;,&quot;count&quot;:711,&quot;range&quot;:31,&quot;status&quot;:1&#125;,&#123;&quot;index&quot;:31,&quot;keyword&quot;:&quot;搜索关键词-30&quot;,&quot;count&quot;:239,&quot;range&quot;:32,&quot;status&quot;:0&#125;,&#123;&quot;index&quot;:32,&quot;keyword&quot;:&quot;搜索关键词-31&quot;,&quot;count&quot;:428,&quot;range&quot;:58,&quot;status&quot;:1&#125;,&#123;&quot;index&quot;:33,&quot;keyword&quot;:&quot;搜索关键词-32&quot;,&quot;count&quot;:307,&quot;range&quot;:22,&quot;status&quot;:0&#125;,&#123;&quot;index&quot;:34,&quot;keyword&quot;:&quot;搜索关键词-33&quot;,&quot;count&quot;:192,&quot;range&quot;:13,&quot;status&quot;:1&#125;,&#123;&quot;index&quot;:35,&quot;keyword&quot;:&quot;搜索关键词-34&quot;,&quot;count&quot;:557,&quot;range&quot;:1,&quot;status&quot;:1&#125;,&#123;&quot;index&quot;:36,&quot;keyword&quot;:&quot;搜索关键词-35&quot;,&quot;count&quot;:696,&quot;range&quot;:43,&quot;status&quot;:1&#125;,&#123;&quot;index&quot;:37,&quot;keyword&quot;:&quot;搜索关键词-36&quot;,&quot;count&quot;:85,&quot;range&quot;:89,&quot;status&quot;:0&#125;,&#123;&quot;index&quot;:38,&quot;keyword&quot;:&quot;搜索关键词-37&quot;,&quot;count&quot;:395,&quot;range&quot;:70,&quot;status&quot;:0&#125;,&#123;&quot;index&quot;:39,&quot;keyword&quot;:&quot;搜索关键词-38&quot;,&quot;count&quot;:111,&quot;range&quot;:23,&quot;status&quot;:0&#125;,&#123;&quot;index&quot;:40,&quot;keyword&quot;:&quot;搜索关键词-39&quot;,&quot;count&quot;:55,&quot;range&quot;:22,&quot;status&quot;:0&#125;,&#123;&quot;index&quot;:41,&quot;keyword&quot;:&quot;搜索关键词-40&quot;,&quot;count&quot;:242,&quot;range&quot;:35,&quot;status&quot;:1&#125;,&#123;&quot;index&quot;:42,&quot;keyword&quot;:&quot;搜索关键词-41&quot;,&quot;count&quot;:969,&quot;range&quot;:77,&quot;status&quot;:0&#125;,&#123;&quot;index&quot;:43,&quot;keyword&quot;:&quot;搜索关键词-42&quot;,&quot;count&quot;:169,&quot;range&quot;:95,&quot;status&quot;:1&#125;,&#123;&quot;index&quot;:44,&quot;keyword&quot;:&quot;搜索关键词-43&quot;,&quot;count&quot;:542,&quot;range&quot;:44,&quot;status&quot;:1&#125;,&#123;&quot;index&quot;:45,&quot;keyword&quot;:&quot;搜索关键词-44&quot;,&quot;count&quot;:184,&quot;range&quot;:4,&quot;status&quot;:1&#125;,&#123;&quot;index&quot;:46,&quot;keyword&quot;:&quot;搜索关键词-45&quot;,&quot;count&quot;:51,&quot;range&quot;:33,&quot;status&quot;:0&#125;,&#123;&quot;index&quot;:47,&quot;keyword&quot;:&quot;搜索关键词-46&quot;,&quot;count&quot;:575,&quot;range&quot;:73,&quot;status&quot;:1&#125;,&#123;&quot;index&quot;:48,&quot;keyword&quot;:&quot;搜索关键词-47&quot;,&quot;count&quot;:317,&quot;range&quot;:36,&quot;status&quot;:1&#125;,&#123;&quot;index&quot;:49,&quot;keyword&quot;:&quot;搜索关键词-48&quot;,&quot;count&quot;:491,&quot;range&quot;:95,&quot;status&quot;:1&#125;,&#123;&quot;index&quot;:50,&quot;keyword&quot;:&quot;搜索关键词-49&quot;,&quot;count&quot;:702,&quot;range&quot;:53,&quot;status&quot;:0&#125;],&quot;offlineData&quot;:[&#123;&quot;name&quot;:&quot;门店0&quot;,&quot;cvr&quot;:0.6&#125;,&#123;&quot;name&quot;:&quot;门店1&quot;,&quot;cvr&quot;:0.3&#125;,&#123;&quot;name&quot;:&quot;门店2&quot;,&quot;cvr&quot;:0.8&#125;,&#123;&quot;name&quot;:&quot;门店3&quot;,&quot;cvr&quot;:0.5&#125;,&#123;&quot;name&quot;:&quot;门店4&quot;,&quot;cvr&quot;:0.1&#125;,&#123;&quot;name&quot;:&quot;门店5&quot;,&quot;cvr&quot;:0.5&#125;,&#123;&quot;name&quot;:&quot;门店6&quot;,&quot;cvr&quot;:0.4&#125;,&#123;&quot;name&quot;:&quot;门店7&quot;,&quot;cvr&quot;:0.9&#125;,&#123;&quot;name&quot;:&quot;门店8&quot;,&quot;cvr&quot;:0.6&#125;,&#123;&quot;name&quot;:&quot;门店9&quot;,&quot;cvr&quot;:0.1&#125;],&quot;offlineChartData&quot;:[&#123;&quot;x&quot;:1520475334315,&quot;y1&quot;:62,&quot;y2&quot;:81&#125;,&#123;&quot;x&quot;:1520477134315,&quot;y1&quot;:29,&quot;y2&quot;:93&#125;,&#123;&quot;x&quot;:1520478934315,&quot;y1&quot;:53,&quot;y2&quot;:13&#125;,&#123;&quot;x&quot;:1520480734315,&quot;y1&quot;:96,&quot;y2&quot;:81&#125;,&#123;&quot;x&quot;:1520482534315,&quot;y1&quot;:59,&quot;y2&quot;:89&#125;,&#123;&quot;x&quot;:1520484334315,&quot;y1&quot;:70,&quot;y2&quot;:43&#125;,&#123;&quot;x&quot;:1520486134315,&quot;y1&quot;:72,&quot;y2&quot;:107&#125;,&#123;&quot;x&quot;:1520487934315,&quot;y1&quot;:91,&quot;y2&quot;:28&#125;,&#123;&quot;x&quot;:1520489734315,&quot;y1&quot;:74,&quot;y2&quot;:32&#125;,&#123;&quot;x&quot;:1520491534315,&quot;y1&quot;:61,&quot;y2&quot;:37&#125;,&#123;&quot;x&quot;:1520493334315,&quot;y1&quot;:60,&quot;y2&quot;:53&#125;,&#123;&quot;x&quot;:1520495134315,&quot;y1&quot;:86,&quot;y2&quot;:66&#125;,&#123;&quot;x&quot;:1520496934315,&quot;y1&quot;:96,&quot;y2&quot;:67&#125;,&#123;&quot;x&quot;:1520498734315,&quot;y1&quot;:83,&quot;y2&quot;:89&#125;,&#123;&quot;x&quot;:1520500534315,&quot;y1&quot;:25,&quot;y2&quot;:70&#125;,&#123;&quot;x&quot;:1520502334315,&quot;y1&quot;:10,&quot;y2&quot;:14&#125;,&#123;&quot;x&quot;:1520504134315,&quot;y1&quot;:42,&quot;y2&quot;:36&#125;,&#123;&quot;x&quot;:1520505934315,&quot;y1&quot;:31,&quot;y2&quot;:48&#125;,&#123;&quot;x&quot;:1520507734315,&quot;y1&quot;:40,&quot;y2&quot;:81&#125;,&#123;&quot;x&quot;:1520509534315,&quot;y1&quot;:78,&quot;y2&quot;:37&#125;],&quot;salesTypeData&quot;:[&#123;&quot;x&quot;:&quot;家用电器&quot;,&quot;y&quot;:4544&#125;,&#123;&quot;x&quot;:&quot;食用酒水&quot;,&quot;y&quot;:3321&#125;,&#123;&quot;x&quot;:&quot;个护健康&quot;,&quot;y&quot;:3113&#125;,&#123;&quot;x&quot;:&quot;服饰箱包&quot;,&quot;y&quot;:2341&#125;,&#123;&quot;x&quot;:&quot;母婴产品&quot;,&quot;y&quot;:1231&#125;,&#123;&quot;x&quot;:&quot;其他&quot;,&quot;y&quot;:1231&#125;],&quot;salesTypeDataOnline&quot;:[&#123;&quot;x&quot;:&quot;家用电器&quot;,&quot;y&quot;:244&#125;,&#123;&quot;x&quot;:&quot;食用酒水&quot;,&quot;y&quot;:321&#125;,&#123;&quot;x&quot;:&quot;个护健康&quot;,&quot;y&quot;:311&#125;,&#123;&quot;x&quot;:&quot;服饰箱包&quot;,&quot;y&quot;:41&#125;,&#123;&quot;x&quot;:&quot;母婴产品&quot;,&quot;y&quot;:121&#125;,&#123;&quot;x&quot;:&quot;其他&quot;,&quot;y&quot;:111&#125;],&quot;salesTypeDataOffline&quot;:[&#123;&quot;x&quot;:&quot;家用电器&quot;,&quot;y&quot;:99&#125;,&#123;&quot;x&quot;:&quot;个护健康&quot;,&quot;y&quot;:188&#125;,&#123;&quot;x&quot;:&quot;服饰箱包&quot;,&quot;y&quot;:344&#125;,&#123;&quot;x&quot;:&quot;母婴产品&quot;,&quot;y&quot;:255&#125;,&#123;&quot;x&quot;:&quot;其他&quot;,&quot;y&quot;:65&#125;],&quot;radarData&quot;:[&#123;&quot;name&quot;:&quot;个人&quot;,&quot;label&quot;:&quot;引用&quot;,&quot;value&quot;:10&#125;,&#123;&quot;name&quot;:&quot;个人&quot;,&quot;label&quot;:&quot;口碑&quot;,&quot;value&quot;:8&#125;,&#123;&quot;name&quot;:&quot;个人&quot;,&quot;label&quot;:&quot;产量&quot;,&quot;value&quot;:4&#125;,&#123;&quot;name&quot;:&quot;个人&quot;,&quot;label&quot;:&quot;贡献&quot;,&quot;value&quot;:5&#125;,&#123;&quot;name&quot;:&quot;个人&quot;,&quot;label&quot;:&quot;热度&quot;,&quot;value&quot;:7&#125;,&#123;&quot;name&quot;:&quot;团队&quot;,&quot;label&quot;:&quot;引用&quot;,&quot;value&quot;:3&#125;,&#123;&quot;name&quot;:&quot;团队&quot;,&quot;label&quot;:&quot;口碑&quot;,&quot;value&quot;:9&#125;,&#123;&quot;name&quot;:&quot;团队&quot;,&quot;label&quot;:&quot;产量&quot;,&quot;value&quot;:6&#125;,&#123;&quot;name&quot;:&quot;团队&quot;,&quot;label&quot;:&quot;贡献&quot;,&quot;value&quot;:3&#125;,&#123;&quot;name&quot;:&quot;团队&quot;,&quot;label&quot;:&quot;热度&quot;,&quot;value&quot;:1&#125;,&#123;&quot;name&quot;:&quot;部门&quot;,&quot;label&quot;:&quot;引用&quot;,&quot;value&quot;:4&#125;,&#123;&quot;name&quot;:&quot;部门&quot;,&quot;label&quot;:&quot;口碑&quot;,&quot;value&quot;:1&#125;,&#123;&quot;name&quot;:&quot;部门&quot;,&quot;label&quot;:&quot;产量&quot;,&quot;value&quot;:6&#125;,&#123;&quot;name&quot;:&quot;部门&quot;,&quot;label&quot;:&quot;贡献&quot;,&quot;value&quot;:5&#125;,&#123;&quot;name&quot;:&quot;部门&quot;,&quot;label&quot;:&quot;热度&quot;,&quot;value&quot;:7&#125;]&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://nisonfuture.cn/2018/03/08/管理员页面的初步构建/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Pling Huang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="叶落林间">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/08/管理员页面的初步构建/" itemprop="url">管理员页面的初步构建</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-08T09:35:59+08:00">
                2018-03-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/programming/" itemprop="url" rel="index">
                    <span itemprop="name">编程</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>通过全局搜索 找到左边表单的配置项，修改为我所需要的配置，则如下</p>
<p>D:\luwei\project\wallpaper\wallpaper\src\common\menu.js<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">const menuData = [&#123;</span><br><span class="line">  name: '权限管理',</span><br><span class="line">  icon: 'book',</span><br><span class="line">  path: 'dashboard',</span><br><span class="line">&#125;, &#123;</span><br><span class="line">  name: '刘海模版系列管理',</span><br><span class="line">  icon: 'book',</span><br><span class="line">  path: 'dashboard',</span><br><span class="line">&#125;, &#123;</span><br><span class="line">  name: '刘海模板管理',</span><br><span class="line">  icon: 'book',</span><br><span class="line">  path: 'dashboard',</span><br><span class="line">&#125;, &#123;</span><br><span class="line">  name: '系统壁纸系列管理',</span><br><span class="line">  icon: 'book',</span><br><span class="line">  path: 'dashboard',</span><br><span class="line">&#125;, &#123;</span><br><span class="line">  name: '系统壁纸管理',</span><br><span class="line">  icon: 'book',</span><br><span class="line">  path: 'dashboard',</span><br><span class="line">&#125;, &#123;</span><br><span class="line">  name: '留言管理',</span><br><span class="line">  icon: 'book',</span><br><span class="line">  path: 'dashboard',</span><br><span class="line">&#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure></p>
<p>不过样式有点不太对劲 如下：<br><img src="./images/1520480250618.jpg" alt="enter description here"></p>
<p>而目标原型为：<br><img src="./images/1520480283537.jpg" alt="目标原型"><br>需要修改一下 </p>
<p>突然间 发现 好像是因为我设置path 路径是一样的 所以才出现这个问题  修改后就解决了 </p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://nisonfuture.cn/2018/03/08/查看列表组件/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Pling Huang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="叶落林间">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/08/查看列表组件/" itemprop="url">查看列表组件</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-08T09:35:59+08:00">
                2018-03-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/programming/" itemprop="url" rel="index">
                    <span itemprop="name">编程</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>通过查找 关键词 新建 找到了列表组件 ，点击新建后有一个弹窗 弹窗的标题是新建规则，查找关键词，找到弹窗组件的源码<br>D:\luwei\project\wallpaper\wallpaper\src\routes\List\TableList.js<br>其实也是在列表组件中 这个没有分离 </p>
<p>弹窗组件名为 CreateForm </p>
<p>刚才花了半个小时 在看弹窗 如何控制 数据的流动  </p>
<p>接下来打算 新建一个自己的界面  </p>
<p>过程 如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">// src/common/router.js</span><br><span class="line">&apos;/dashboard/test&apos;: &#123;</span><br><span class="line">  component: dynamicWrapper(app, [&apos;monitor&apos;], () =&gt; import(&apos;../routes/Dashboard/Test&apos;)),</span><br><span class="line">&#125;,</span><br><span class="line">// src/common/menu.js</span><br><span class="line">const menuData = [&#123;</span><br><span class="line">  name: &apos;dashboard&apos;,</span><br><span class="line">  icon: &apos;dashboard&apos;,  // https://demo.com/icon.png or &lt;Icon type=&quot;dashboard&quot; /&gt;</span><br><span class="line">  path: &apos;dashboard&apos;,</span><br><span class="line">  children: [&#123;</span><br><span class="line">    name: &apos;分析页&apos;,</span><br><span class="line">    path: &apos;analysis&apos;,</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    name: &apos;监控页&apos;,</span><br><span class="line">    path: &apos;monitor&apos;,</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    name: &apos;工作台&apos;,</span><br><span class="line">    path: &apos;workplace&apos;,</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    name: &apos;测试页&apos;,</span><br><span class="line">    path: &apos;test&apos;,</span><br><span class="line">  &#125;],</span><br><span class="line">&#125;, &#123;</span><br><span class="line">  // 更多配置</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure>
<p>加好后就会自动生成路由 </p>
<p>在相应的路径下 写一个Test.js 文件 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import React from &apos;react&apos;;</span><br><span class="line">// import &#123; Link &#125; from &apos;dva/router&apos;;</span><br><span class="line">// import Exception from &apos;../../components/Exception&apos;;</span><br><span class="line"></span><br><span class="line">export default () =&gt; (</span><br><span class="line">  // &lt;Exception type=&quot;403&quot; style=&#123;&#123; minHeight: 500, height: &apos;80%&apos; &#125;&#125; linkElement=&#123;Link&#125; /&gt;</span><br><span class="line">  &lt;div&gt;pling&lt;/div&gt;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p>修改成功 访问相关的路由可以查看到相应的页面 ，<br>接下来 搬砖，将列表界面的新建弹窗搬过来，</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">const CreateForm = Form.create()((props) =&gt; &#123;</span><br><span class="line">  const &#123; modalVisible, form, handleAdd, handleModalVisible &#125; = props;</span><br><span class="line">  const okHandle = () =&gt; &#123;</span><br><span class="line">    form.validateFields((err, fieldsValue) =&gt; &#123;</span><br><span class="line">      if (err) return;</span><br><span class="line">      form.resetFields();</span><br><span class="line">      handleAdd(fieldsValue);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line">  return (</span><br><span class="line">    &lt;Modal</span><br><span class="line">      title=&quot;新建规则&quot;</span><br><span class="line">      visible=&#123;modalVisible&#125;</span><br><span class="line">      onOk=&#123;okHandle&#125;</span><br><span class="line">      onCancel=&#123;() =&gt; handleModalVisible()&#125;</span><br><span class="line">    &gt;</span><br><span class="line">      &lt;FormItem</span><br><span class="line">        labelCol=&#123;&#123; span: 5 &#125;&#125;</span><br><span class="line">        wrapperCol=&#123;&#123; span: 15 &#125;&#125;</span><br><span class="line">        label=&quot;描述&quot;</span><br><span class="line">      &gt;</span><br><span class="line">        &#123;form.getFieldDecorator(&apos;desc&apos;, &#123;</span><br><span class="line">          rules: [&#123; required: true, message: &apos;Please input some description...&apos; &#125;],</span><br><span class="line">        &#125;)(</span><br><span class="line">          &lt;Input placeholder=&quot;请输入&quot; /&gt;</span><br><span class="line">        )&#125;</span><br><span class="line">      &lt;/FormItem&gt;</span><br><span class="line">    &lt;/Modal&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>代码如上，花了点时间，去筛选包 没遇到什么问题</p>
<blockquote>
<p>注: 这个弹窗组件的耦合性还是挺高的 不能复用，所以有空可以将这个抽出来做成一个组件，可以通过设置属性的方式，将表单组件传递进去。 暂时先记录一下</p>
</blockquote>
<p>接下来搬 查询列表  </p>
<p>查询列表这个依赖有点大 ，这个getFieldDecorator 这个从form 传过来的属性 都不知道在哪里<br>经过一段时间的实验 这个是用来绑定数据名的 相当于key-value 中的key<br>之前搬复杂查询组件的时候有一个GC的问题 但是在简单查询组件却没发现问题 </p>
<p>先 总体来整理一下弹窗的 流程 </p>
<p>使用如下图：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;CreateForm</span><br><span class="line">  &#123;...parentMethods&#125;</span><br><span class="line">  modalVisible=&#123;modalVisible&#125;</span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure>
<p>其中 parentMethods这个方法为：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> parentMethods = &#123;</span><br><span class="line">  handleAdd: <span class="keyword">this</span>.handleAdd,</span><br><span class="line">  handleModalVisible: <span class="keyword">this</span>.handleModalVisible,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>将弹窗点击后的事件 和关闭弹窗的事件传入</p>
<p>弹窗的代码如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">const CreateForm = Form.create()((props) =&gt; &#123;</span><br><span class="line">  const &#123; modalVisible, form, handleAdd, handleModalVisible &#125; = props;</span><br><span class="line">  const okHandle = () =&gt; &#123;</span><br><span class="line">    form.validateFields((err, fieldsValue) =&gt; &#123;</span><br><span class="line">      if (err) return;</span><br><span class="line">      form.resetFields(); // 重置 Checkbox 的勾选状态</span><br><span class="line">      handleAdd(fieldsValue);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line">  return (</span><br><span class="line">    &lt;Modal</span><br><span class="line">      title=&quot;新建规则&quot;</span><br><span class="line">      visible=&#123;modalVisible&#125;</span><br><span class="line">      onOk=&#123;okHandle&#125;</span><br><span class="line">      onCancel=&#123;() =&gt; handleModalVisible()&#125;</span><br><span class="line">    &gt;</span><br><span class="line">      &lt;FormItem</span><br><span class="line">        labelCol=&#123;&#123; span: 5 &#125;&#125;</span><br><span class="line">        wrapperCol=&#123;&#123; span: 15 &#125;&#125;</span><br><span class="line">        label=&quot;描述&quot;</span><br><span class="line">      &gt;</span><br><span class="line">        &#123;form.getFieldDecorator(&apos;desc&apos;, &#123;</span><br><span class="line">          rules: [&#123; required: true, message: &apos;Please input some description...&apos; &#125;],</span><br><span class="line">        &#125;)(</span><br><span class="line">          &lt;Input placeholder=&quot;请输入&quot; /&gt;</span><br><span class="line">        )&#125;</span><br><span class="line">      &lt;/FormItem&gt;</span><br><span class="line">    &lt;/Modal&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>首先将参数传入进来，进行渲染和数据绑定，将点击确定后的事件 和关闭窗口的事件进行绑定 点击后 就触发传进来的确定事件 参数通过form.validateFields 进行进行传递，处理</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://nisonfuture.cn/2018/03/08/昨天loading状态的修改问题/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Pling Huang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="叶落林间">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/08/昨天loading状态的修改问题/" itemprop="url">昨天loading状态的修改问题</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-08T09:35:59+08:00">
                2018-03-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/programming/" itemprop="url" rel="index">
                    <span itemprop="name">编程</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="昨晚回去后，调试发现-一直在提示-status-没有定义，"><a href="#昨晚回去后，调试发现-一直在提示-status-没有定义，" class="headerlink" title="昨晚回去后，调试发现 一直在提示 status 没有定义，"></a>昨晚回去后，调试发现 一直在提示 status 没有定义，</h3><p>我一开始以为是在 changeLoginStatus这里出现了问题，但是修改了 也没有变化，于是我在login 函数增加了日志  发现其实那个函数已经运行了，并没有问题，</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">login(&#123; payload &#125;, &#123; call, put &#125;) &#123;</span><br><span class="line">      // console.log(&apos;login&apos;, payload);</span><br><span class="line">      try &#123;</span><br><span class="line">        const response = yield call(fakeAccountLogin, payload);</span><br><span class="line">        // console.log(&apos;login&apos;, response.state, JSON.stringify(response));</span><br><span class="line">        yield put(&#123;</span><br><span class="line">          type: &apos;changeLoginStatus&apos;,</span><br><span class="line">          payload: response,</span><br><span class="line">        &#125;);</span><br><span class="line">        // response 有可能是undefined 出现错误的情况 是没有返回结果的 没有返回结果就undefined 所以要加一个判断</span><br><span class="line">        if (response !== undefined &amp;&amp; response.status === &apos;ok&apos;) &#123;</span><br><span class="line">          yield put(routerRedux.push(&apos;/&apos;));</span><br><span class="line">        &#125;</span><br><span class="line">      &#125; finally &#123;</span><br><span class="line">        yield put(&#123;</span><br><span class="line">          type: &apos;changeLoginStatus&apos;,</span><br><span class="line">          payload: &#123;</span><br><span class="line">            state: &apos;error&apos;,</span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;);</span><br><span class="line">        yield put(routerRedux.push(&apos;/&apos;));</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>
<p>通过将response 输出来 我发现 失败之后 输出来的是Undefined<br>所以就找到问题所在 在用response 的时候进行参数检查，如果非空则继续运行</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://nisonfuture.cn/2018/03/07/登录接口与后端的交互/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Pling Huang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="叶落林间">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/07/登录接口与后端的交互/" itemprop="url">2018-3-7与后端的交互</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-07T18:11:39+08:00">
                2018-03-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/programming/" itemprop="url" rel="index">
                    <span itemprop="name">编程</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>公司项目点击后产生一个POST请求，发送的数据为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">account:&quot;luwei&quot;</span><br><span class="line">captcha:&quot;a&quot;</span><br><span class="line">password:&quot;luwei&quot;</span><br><span class="line">type:&quot;account&quot;</span><br><span class="line">uuid:&quot;e5d1e429-b084-43e0-887c-2c15f406972a_1520385455390&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>还有就是在头会设置一个token ：<br><code>Authorization:token 38dcbad3729b47968976f5b4793feae5jee9sz8o</code></p>
<p>所以还要去生成一个token  还有前面的uuid 是通过在验证码的时候也有用到，所以需要将其作为一个属性，传递到子组件去</p>
<p>不是很懂怎样将组件的数据传递到请求的<br><img src="./images/1520387621288.jpg" alt="enter description here"></p>
<p>找到这个函数 将传入的payload 打印出来发现是参数 ，但是在哪调用了我就不是很清楚了<br>继续找<br>D:\luwei\project\wallpaper\wallpaper\src\routes\User\Login.js<br>在这个文件下 我找到了提交的参数 主要是通过submit的时候 调用上一层的函数 传递参数进去 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">handleSubmit = (err, values) =&gt; &#123;</span><br><span class="line">  console.log(&apos;handlesubmit&apos;, err, values);</span><br><span class="line">  const &#123; type &#125; = this.state;</span><br><span class="line">  if (!err) &#123;</span><br><span class="line">    this.props.dispatch(&#123;</span><br><span class="line">      type: &apos;login/login&apos;,</span><br><span class="line">      payload: &#123;</span><br><span class="line">        ...values,</span><br><span class="line">        type,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>打印出来的value 就是：<br><code>{userName: &quot;1&quot;, password: &quot;1&quot;, captcha: &quot;1&quot;}</code><br>通过观察发现 其实这些参数都是组件内的：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;Tab key=&quot;account&quot; tab=&quot;账户密码登录&quot;&gt;</span><br><span class="line">          &#123;</span><br><span class="line">            login.status === &apos;error&apos; &amp;&amp;</span><br><span class="line">            login.type === &apos;account&apos; &amp;&amp;</span><br><span class="line">            !login.submitting &amp;&amp;</span><br><span class="line">            this.renderMessage(&apos;账户或密码错误（admin/888888）&apos;)</span><br><span class="line">          &#125;</span><br><span class="line">          &lt;UserName name=&quot;userName&quot; placeholder=&quot;admin/user&quot; /&gt;</span><br><span class="line">          &lt;Password name=&quot;password&quot; placeholder=&quot;888888/123456&quot; /&gt;</span><br><span class="line">          &lt;Captcha name=&quot;captcha&quot; placeholder=&quot;11&quot; /&gt;</span><br><span class="line">        &lt;/Tab&gt;</span><br></pre></td></tr></table></figure>
<p>所以我需要传递什么值都可以在这里设置，观察最上面的图片，增加几个参数：<br>修改userName 为 account<br>增加uuid uuid的生成算法有讲究 所以之后需要找下资料<br>现在来看 uuid 的传递 就是在父组件 更新uuid 传递到子组件 </p>
<p>一开始我将 验证码图片的url写死了 就是只是在一开始进行初始化，将uuid 放到了state里面，然后就算在父组件的props的uuid属性改变了，子组件的state 并不会发生改变，所以可以通过将基本链接写在state里面，然后和父组件的props的uuid字符进行拼接，然后在父组件的属性更新 则url也更新。</p>
<p><img src="./images/1520391675442.jpg" alt="发送登录请求"><br>发送成功的登录请求 返回有数据 接下来就是要做处理了；<br><img src="./images/1520391868782.jpg" alt="成功回调"></p>
<p>接下来就是要对返回结果进行处理了  虽然不是很懂effect 这个机制的原理，但是可以直接在返回的response里面用 </p>
<p>意外发现：<br><img src="./images/1520392188889.jpg" alt="enter description here"></p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@connect(<span class="function">(<span class="params">&#123; login, loading &#125;</span>) =&gt;</span> (&#123;</span><br><span class="line">  login,</span><br><span class="line">  submitting: loading.effects[<span class="string">'login/login'</span>],</span><br><span class="line">&#125;))</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">LoginPage</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>原来effects 是在这里进行loading的 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">login.status === &apos;error&apos; &amp;&amp;</span><br><span class="line">         login.type === &apos;account&apos; &amp;&amp;</span><br><span class="line">         !login.submitting &amp;&amp;</span><br></pre></td></tr></table></figure>
<p>这个传入的login的属性 请示并不太清楚从哪得到的 但是看到有type 这个属性 感觉好像是在submit的时候提交的 现在来看看response的处理 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">effects: &#123;</span><br><span class="line">    *login(&#123; payload &#125;, &#123; call, put &#125;) &#123;</span><br><span class="line">      // console.log(&apos;login&apos;, payload);</span><br><span class="line">      const response = yield call(fakeAccountLogin, payload);</span><br><span class="line">      console.log(&apos;login&apos;, response.state, JSON.stringify(response));</span><br><span class="line">      yield put(&#123;</span><br><span class="line">        type: &apos;changeLoginStatus&apos;,</span><br><span class="line">        payload: response,</span><br><span class="line">      &#125;);</span><br><span class="line">      console.log(&apos;login/login&apos;, response.state, JSON.stringify(response));</span><br><span class="line">      // Login successfully</span><br><span class="line">      if (response.status === &apos;ok&apos;) &#123;</span><br><span class="line">        reloadAuthorized();</span><br><span class="line">        yield put(routerRedux.push(&apos;/&apos;));</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://nisonfuture.cn/2018/03/07/登录页面的错误提示/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Pling Huang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="叶落林间">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/07/登录页面的错误提示/" itemprop="url">2018-3-7 登录页面的错误提示</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-07T18:11:39+08:00">
                2018-03-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/programming/" itemprop="url" rel="index">
                    <span itemprop="name">编程</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="./images/1520409819446.jpg" alt="输入错入的数据的时候 会有错误提示"></p>
<p>查看代码发现 是在下面的代码控制的：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">function checkStatus(response) &#123;</span><br><span class="line">  if (response.status &gt;= 200 &amp;&amp; response.status &lt; 300) &#123;</span><br><span class="line">    return response;</span><br><span class="line">  &#125;</span><br><span class="line">  const errortext = codeMessage[response.status] || response.statusText;</span><br><span class="line">  notification.error(&#123;</span><br><span class="line">    message: `请求错误 $&#123;response.status&#125;: $&#123;response.body.msg&#125;`,</span><br><span class="line">    description: errortext,</span><br><span class="line">  &#125;);</span><br><span class="line">  const error = new Error(errortext);</span><br><span class="line">  error.name = response.status;</span><br><span class="line">  error.response = response;</span><br><span class="line">  throw error;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>将errContext 和 response这两个属性 输出来 查看一下<br><code>console.log(&#39;checkStatus&#39;, JSON.stringify(errortext), JSON.stringify(response));</code><br>结果如下<br><code>checkStatus &quot;发出的请求有错误，服务器没有进行新建或修改数据的操作。&quot; {}</code></p>
<p><img src="./images/1520411194353.jpg" alt="response"><br>返回的数据解析如上图 但是没有返回结果的body 但是通过浏览器的拦截 我看到有response是有数据的<br><img src="./images/1520411270183.jpg" alt="浏览器拦截"><br>所以这就很奇怪 </p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://nisonfuture.cn/2018/03/07/别再用勤奋掩饰你的懒惰/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Pling Huang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="叶落林间">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/07/别再用勤奋掩饰你的懒惰/" itemprop="url">别再用勤奋掩饰你的懒惰</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-07T18:11:39+08:00">
                2018-03-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/life/" itemprop="url" rel="index">
                    <span itemprop="name">生活</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>别再用勤奋掩饰你的懒惰<br>出品：<a href="https://mp.weixin.qq.com/s?__biz=MzIwODM3MzU1NA==&amp;mid=100003155&amp;idx=5&amp;sn=b8b40e0ed5e381e283b0a4370bf9190f&amp;chksm=17055f0e2072d6185353b90e8fdee9de1496f7cbf8e9f601f2d82616a09a1446e7bd58bb2384&amp;mpshare=1&amp;scene=1&amp;srcid=03078RlhOEVp5R4lsmnOfgh9#rd" target="_blank" rel="noopener">阿何</a><br>一</p>
<p>大概因为毕业的学校还不错，又干着实际上苦逼但外人看来高大上的创业，网络上和现实中经常有人向我取经。</p>
<p>小A是我的邻居，刚毕业两年，在一家互联网公司工作，最近有件事让他愤愤不平：公司有位和他同期入职的同事刚刚升职了，但在小A看来不管从哪方面看升职的都应该是他。</p>
<p>“我每天都是第一个到公司的，几乎都是最后一个离开的，而他每天都是掐着点来，掐着点离开。论勤奋程度，我甩他几条街。论个人能力，我也绝对不比他差。为什么老板就是看不到这一点，反而提拔他了呢？”</p>
<p>小A是个性格很不错的小伙子，能让他都感到如此气愤，显然在他心中觉得那位同事跟自己是有比较大差距的。</p>
<p>无独有偶，有个亲戚婶婶最近也特别烦恼。她家小孩眼看就要上高三，面临高考了。孩子学习特别刻苦，几乎每天都要学到十一二点钟，但成绩就是不上不下。甚至有些原来成绩不如他，也远不如他勤奋的同学都纷纷反超。</p>
<p>在我们的生活中有挺多这样的例子：明明付出了比别人更多的努力，但别人似乎就是看不到，甚至老天爷也没看到，没有给予相应的回报。</p>
<p>身边人的求助让我开始思考这个奇怪的现象，最后还真找到了原因。这里并不想探讨“勤奋”与“结果”之间的哲学关系，而是让我思考，到底怎样的“勤奋”才算是真正的勤奋。</p>
<p>二</p>
<p>我发现的情况是：大部分人的勤奋往往流于形式，并且容易自我陶醉于“我在进步”的假象当中，反而疏忽了去做那些真正有助于自我提升的事情。</p>
<p>说得更不好听一点，这些人其实是在用勤奋掩饰自己的懒惰。</p>
<p>你是个加班狗，每天7点半就到公司，吭哧吭哧干到下午6点下班。出去吃个盒饭，回到公司接着拼命到晚上十一点才回家。</p>
<p>这样很辛苦，但不叫勤奋。</p>
<p>你每天早起晨跑、读书、冥想。你每天都过得很充实，俯视周围芸芸众生，觉得唯有自己卓尔不群，优秀得耀眼。</p>
<p>你是个有追求的孩子，但这也不叫勤奋。</p>
<p>大部分人对勤奋的理解，都肤浅地停留在这种表面的仪式感上面，而忽视了勤奋的本质意义。更可怕的是一旦你习惯了这样的过程，便很容易从中得到满足，最后当发现自己没有得到应有的回报的时候开始怨天尤人，觉得天道不公。</p>
<p>什么是对勤奋肤浅的认识呢？</p>
<p>重复性的做一件事情，却缺乏思考。<br>长时间的做一件事情，却缺乏思考。</p>
<p>以上两种便是最为常见的勤奋误区，也是大部分勤奋却平庸者陷入发展困境的本质原因。</p>
<p>三</p>
<p>重复且长时间的做事情其实并不难，只要条件具备，大部分人都可以做到。难的其实是思考。</p>
<p>工作大概3年的时候，因为应酬工作太多，我体重剧增。大学毕业那会儿差不多是110多斤，可巅峰时期差不多到了150斤。</p>
<p>我决定减肥，采取的方式是每天早上7点钟起来去跑步。</p>
<p>自己意志力还算是不错的，启动减肥计划后的一个月，每天都准时去跑步，每次3到5公里，但减肥效果并不理想。客观地说，收效甚微。</p>
<p>去请教一位运动和减肥方面特别专业的朋友，他了解完我的具体状况后说，你这样跑步身体素质是会提升的，但减肥是没戏的，方法完全就错了。</p>
<p>后来他给了我一堆资料，硬着头皮全部看完，我这个门外汉才开始了解什么是无氧运动，什么是有氧运动。什么是正确的跑步方式，该给自己配置什么样的装备。我开始学会计算自己的摄入热量，知道大部分食物的卡路里。</p>
<p>后面的一个月状况完全不一样了，体重开始有规律的下降，而且跑起来更加轻松，完全不像原来感觉就像是在服苦役一样。</p>
<p>但在外人看来，这两段时期我的“勤奋”程度其实是差不多的，只不过结果是天壤之别。一般来说，后面好的结果会被解释为“这是坚持的力量”。</p>
<p>只有我自己明白，这是思考的力量。</p>
<p>有益的思考+坚持做事情，这才是完整意义上的勤奋。</p>
<p>勤奋不是为了努力，是为了偷懒！</p>
<p>怎样的偷懒？就是更快的把事情做完，做好，是让自己能做以前做不到的事情！</p>
<p>四</p>
<p>创业的第二年，我开掉了公司一位挺“努力”的员工。有些同事，甚至是我爱人都不是很理解。勤奋的员工不是所有老板都喜欢的吗，我为什么没有耐心再给他多些时间，而是采取如此决绝的手段？</p>
<p>原因很简单：这名员工已经中了很深的“勤奋病”，尽管和他有过多次沟通，但仍然没法改变，最后只好痛下杀手了。</p>
<p>他每天7点多一些就到公司了，大部分员工下午6点下班，但他每次都差不多8，9点才会离开。但问题是，他所在岗位的工作量根本没这么大，为什么需要这么多时间用在工作上呢？我便开始观察他。</p>
<p>首先我发现的一个状况是：因为每天起的太早（他家到公司差不多要1个小时的车程），所以上午的工作效率是极低的。差不多到10点钟开始，就会频频打呵欠，直到午休后才会有所改观。</p>
<p>所以大部分的工作，他其实都是在下午的时间完成的。如此仓促，完成的质量自然一般。有时候实在弄不完，还会弄到更晚，这也是为什么他必须比别人迟下班的其中一个原因。</p>
<p>有的时候按时完成了工作，下班后他留在办公室，其实也并没有拿这段时间来学习提升，或者总结工作。他干的最多的，还是提前去做明天的工作。有几次他下班后甚至开始打扫办公室，干阿姨做的事情。</p>
<p>很多次和他交流的时候，我都有意无意提醒他每天不用那么早来上班，同时每天能干好当天的活就可以了，与其加班去做更多的活，还不如多学点专业方面的知识，提高下自己的水平。</p>
<p>可惜的是提醒没啥效果，最后的结果是：他每天工作时间是最长的，但专业水准提升在同期员工中却是最慢的。后面加薪、职位提升如果不照顾他的话，肯定会心理失衡，影响公司整个氛围，没办法只好劝退。</p>
<p>这个员工最大的问题就是：沉迷于无效的勤奋，而忽略的勤奋的目的本身。</p>
<p>五</p>
<p>看完一本书很容易，看懂一本书很难。</p>
<p>看懂一本书，还能把书里的知识、方法应用到生活和工作中去，更难！</p>
<p>看书不是目的，学以致用，重点是后面的致用。</p>
<p>所以每天都看书，一个月看多少本书，其实都不是勤奋。</p>
<p>勤奋之前，要想清楚你的目的是什么。如果你的目的就是看书本身，当然也是没问题的。</p>
<p>但你就别抱怨别人看书比你少，掌握的知识却比你多。</p>
<p>问题在于：大多数人流于表面的勤奋，偏偏要求真正勤奋才能得到的东西。</p>
<p>坚持做事情很重要，但做事情的同时思考如何更快、更好地把事情做好更重要。</p>
<p>再次强调：勤奋的目的不是勤奋，是偷懒，是为了把原来需要1个小时才能做完的事情半个小时做完，是为了能做到以前做不到的事情。</p>
<p>而不是把最简单的“重复性”工作持续下去。</p>
<p>六</p>
<p>我跟小A说，如果你老板不是傻子，你那同事不是关系户，那么他这样做肯定有你不知道的原因。</p>
<p>根据对小A的了解，以及他对那同事的描述，其实我大体知道原因是什么。</p>
<p>就算小A是在我的企业工作，我的选择可能都会差不多：我会更乐意给小A这样的员工加薪，而让他同事那种类型的人做管理岗位。</p>
<p>小A的长处是善于钻研专业，研究细节。这样的人是专家型人才，可以很好地把本职工作做好。但他的弱势在于大局观和“方向感”较差，同时人际关系处理上属于一般。</p>
<p>他那位同事虽然看起来“没那么勤奋”，但对业务方向的发展却相当敏锐，同时也具有人际关系管理的潜质。</p>
<p>小A有努力，也有思考，只是他勤奋的方向不同，最终得到的东西也不同。不出意外的话，老板应该很快会给他涨薪。</p>
<p>而婶婶的小孩就属于典型的“懒惰式勤奋”，将勤奋肤浅的理解为“每晚学习到几点”，将刷题库作为唯一的学习手段，做错的题不思考，做对的题不总结，成绩无法提升也是自然而然的事情。</p>
<p>反思我们，有时候难道不是同样陶醉于这样的勤奋？</p>
<p>如果真的想要进步，请别再用勤奋掩饰自己的懒惰，真正开动起来吧！</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://nisonfuture.cn/2018/03/07/token认证机制/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Pling Huang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="叶落林间">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/07/token认证机制/" itemprop="url">2018-3-7 token认证机制</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-07T18:11:39+08:00">
                2018-03-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/programming/" itemprop="url" rel="index">
                    <span itemprop="name">编程</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Fetch_API/Using_Fetch" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/API/Fetch_API/Using_Fetch</a><br>fetch 的使用</p>
<p>登录成功后 返回的数据有token 所以在获取到token之后先存储在localStorage， 每次请求之前都先去查找localStorage这里面的token 然后加到请求头上面</p>
<p>具体实现方式 ：</p>
<ol>
<li>定义存储和获取的两个方法 </li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">export function getToken() &#123;</span><br><span class="line">  return localStorage.getItem(&apos;token&apos;) || &apos;&apos;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export function setToken(token) &#123;</span><br><span class="line">  return localStorage.setItem(&apos;token&apos;, token);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li>在login.js 里面 在获取到成功的token之后就放到ls里面</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">reducers: &#123;</span><br><span class="line">  changeLoginStatus(state, &#123; payload &#125;) &#123;</span><br><span class="line">    setToken(payload.token);</span><br><span class="line">    return &#123;</span><br><span class="line">      ...state,</span><br><span class="line">      status: payload.status,</span><br><span class="line">      type: payload.type,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>
<p>成功设置好token<br>在请求的时候加上</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">if (getToken()) &#123;</span><br><span class="line">      newOptions.headers = &#123;</span><br><span class="line">        &apos;Authorization&apos;:&apos;token &apos; + getToken(),</span><br><span class="line">        ...newOptions.headers,</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://nisonfuture.cn/2018/03/07/Flux应用架构/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Pling Huang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="叶落林间">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/07/Flux应用架构/" itemprop="url">Flux应用架构</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-07T18:11:39+08:00">
                2018-03-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/programming/" itemprop="url" rel="index">
                    <span itemprop="name">编程</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h2><blockquote>
<p>为了方便理解，主要的英文名词都没有翻译。比如：dispatcher（调度者）、 store（仓库）、view（视图）</p>
</blockquote>
<p>Flux是Facebook用来构建用户端的web应用的应用程序体系架构。它通过利用数据的单向流动为React的可复用的视图组件提供了补充。相比于形式化的框架它更像是一个架构思想，不需要太多新的代码你就可以马上使用Flux构建你的应用。</p>
<p>Flux应用主要包括三部分：dispatcher、store和views（React components），千万不要和MVC(model-View-Controller)搞混。Controller在Flux应用中也确实存在，但是是以controller-view的形式。view通常处于应用的顶层，它从stores中获取数据，同时将这些数据传递给它的后代节点。另外，action creators - dispatcher辅助方法 - 一个被用来提供描述应用所有可能存在的改变的语义化的API。把它理解为Flux更新闭环的第四个组成部分可以帮助你更好的理解它。</p>
<p>Flux使用单向的数据流动来避开MVC. 当用户与React视图交互的时候，视图会通过中枢dispatcher产生一个action。然后大量的保存着应用数据和业务逻辑的视图接收到冒泡的action，更新所有受影响的view。这种方式很适合React这种声明式的编程方式，因为它的store更新，并不需要特别指定如何在view和state中过渡。</p>
<p>我们独创性的解决了数据的获取：举个栗子，比如我们需要展示一个会话列表，高亮其中未读的会话，同时展示未读会话的数量。如果用MVC架构的话将很难处理这种情况，因为更新一个对话为已读的时候会更新对话model，然后同样也需要更新未读对话数量model（数量-1）。这样的依赖和瀑布式的更新在大型的应用中非常常见，导致错综复杂的数据流动和不可预测的结果。（这其实是Facebook之前的一个线上bug，有时候用户看到提示说有一条未读信息，但是点进去却发现没有）。</p>
<p>反过来让 Store 来控制：store接受更新，并在合适的时机处理这些更新。而不是采用一贯依赖外部的方式来更新数据。在store外部，并没办法看到store内部是如何处理它内部的数据的，这样的方式保证了一个清晰的关注点分离。Store并没有类似setAsRead()这样直接的setter方法，但是在其自成一体的世界中拥有唯一个获取新数据的方法 - store通过dispatcher注册的回调函数。</p>
<h2 id="Structure-and-Data-Flow"><a href="#Structure-and-Data-Flow" class="headerlink" title="Structure and Data Flow"></a>Structure and Data Flow</h2><p>在Flux应用中数据是单向流动的：<br><img src="http://facebook.github.io/flux/img/flux-simple-f8-diagram-1300w.png" alt="enter description here"></p>
<p>单向的数据流是Flux应用的核心特性，上图应该成为Flux程序员的主要心智模型。Dispatcher，stores和views是拥有清晰的输入输出的独立节点。而actions是包含了新的数据和身份属性的简单对象。</p>
<p>用户的交互可能会使views产生新的action，这个action可以在整个系统中传播：<br><img src="http://facebook.github.io/flux/img/flux-simple-f8-diagram-with-client-action-1300w.png" alt="enter description here"><br>所有的数据的流动都通过中枢dispatcher。Action可以通过action creator产生并被提供给dispatcher，但多数情况下action是通过用户与views的交互产生。dispatcher接收到action并执行那些已经注册的回调，向所有stores分发action。通过注册的回调，store响应那些与他们所保存的状态有关的action。然后store会触发一个 change 事件，来提醒controller-views数据已经发生了改变。Controller-views监听这些事件并重新从store中获取数据。这些controller-views调用他们自己的setState()方法，重新渲染自身以及组件树上的所有后代组件。<br><img src="http://facebook.github.io/flux/img/flux-simple-f8-diagram-explained-1300w.png" alt="enter description here"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://nisonfuture.cn/2018/03/07/nginx 反向代理实现本地调试/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Pling Huang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="叶落林间">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/07/nginx 反向代理实现本地调试/" itemprop="url">nginx 反向代理实现本地调试</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-07T18:11:39+08:00">
                2018-03-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/programming/" itemprop="url" rel="index">
                    <span itemprop="name">编程</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>昨天在做登陆接口的时候是用公司后台的登陆接口，在本地调试会出现跨域问题，我不太想通过jsonp解决这个问题，因为jsonp 用法相对来前端说比较麻烦，设置cors策略的话，因为我不能操作后台 这种方式也不太可行，</p>
<p>之前听朋友说到 设置反向代理可以解决这个问题，昨晚在研究nginx </p>
<ol>
<li>通过host 将本地改为域名 test.com </li>
<li>配置nginx 监听80端口</li>
<li>将含有api的url 转发到公司的主机</li>
<li>将没有api的链接转发到8000（这个是调试的端口）</li>
<li>本地调试的时候，将发送到服务器端的url改为发送到本地。</li>
</ol>
<p>host 增加一行解析（win文件地址：C:\Windows\System32\drivers\etc）：<br>    127.0.0.1       test.com</p>
<blockquote>
<p>注：这个文件要用替换的方式在能修改</p>
</blockquote>
<p><strong>注意：</strong><br>调试的时候域名要用好 不要用localhost  要用test.com(这个是host文件解析的本地域名)<br>还有就是 在npm start 的时候会自动打开localhost：8000这个端口，不能再这个页面调试 需要将域名改为test.com 并且不带端口 </p>
<p>nginx 配置如下：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">#user  nobody;</span></span><br><span class="line">worker_processes  <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">#error_log  logs/error.log;</span></span><br><span class="line"><span class="comment">#error_log  logs/error.log  notice;</span></span><br><span class="line"><span class="comment">#error_log  logs/error.log  info;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#pid        logs/nginx.pid;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">events &#123;</span><br><span class="line">    worker_connections  <span class="number">1024</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">http &#123;</span><br><span class="line">    <span class="keyword">include</span>       mime.types;</span><br><span class="line">    default_type  application/octet-stream;</span><br><span class="line"></span><br><span class="line">    <span class="comment">#log_format  main  '$remote_addr - $remote_user [$time_local] "$request" '</span></span><br><span class="line">    <span class="comment">#                  '$status $body_bytes_sent "$http_referer" '</span></span><br><span class="line">    <span class="comment">#                  '"$http_user_agent" "$http_x_forwarded_for"';</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#access_log  logs/access.log  main;</span></span><br><span class="line"></span><br><span class="line">    sendfile        on;</span><br><span class="line">    <span class="comment">#tcp_nopush     on;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#keepalive_timeout  0;</span></span><br><span class="line">    keepalive_timeout  <span class="number">65</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">#gzip  on;</span></span><br><span class="line"></span><br><span class="line">    server &#123;</span><br><span class="line">        listen       <span class="number">80</span>;</span><br><span class="line">        server_name  localhost;</span><br><span class="line"></span><br><span class="line">        <span class="comment">#charset koi8-r;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">#access_log  logs/host.access.log  main;</span></span><br><span class="line"></span><br><span class="line">        location ^~ /api/ &#123;</span><br><span class="line"></span><br><span class="line">             proxy_pass http:<span class="comment">//wallpaper-cms.t.talkmoney.cn/api/;</span></span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        location / &#123;</span><br><span class="line">             proxy_pass http:<span class="comment">//127.0.0.1:8000/;</span></span><br><span class="line"></span><br><span class="line">             proxy_http_version <span class="number">1.1</span>;</span><br><span class="line">             proxy_set_header Upgrade $http_upgrade;</span><br><span class="line">             proxy_set_header Connection <span class="string">"upgrade"</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">#error_page  404              /404.html;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># redirect server error pages to the static page /50x.html</span></span><br><span class="line">        <span class="comment">#</span></span><br><span class="line">        error_page   <span class="number">500</span> <span class="number">502</span> <span class="number">503</span> <span class="number">504</span>  /<span class="number">50</span>x.html;</span><br><span class="line">        location = /<span class="number">50</span>x.html &#123;</span><br><span class="line">            root   html;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"># proxy the PHP scripts to Apache listening on 127.0.0.1:80</span></span><br><span class="line">        <span class="comment">#</span></span><br><span class="line">        <span class="comment">#location ~ \.php$ &#123;</span></span><br><span class="line">        <span class="comment">#    proxy_pass   http://127.0.0.1;</span></span><br><span class="line">        <span class="comment">#&#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000</span></span><br><span class="line">        <span class="comment">#</span></span><br><span class="line">        <span class="comment">#location ~ \.php$ &#123;</span></span><br><span class="line">        <span class="comment">#    root           html;</span></span><br><span class="line">        <span class="comment">#    fastcgi_pass   127.0.0.1:9000;</span></span><br><span class="line">        <span class="comment">#    fastcgi_index  index.php;</span></span><br><span class="line">        <span class="comment">#    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;</span></span><br><span class="line">        <span class="comment">#    include        fastcgi_params;</span></span><br><span class="line">        <span class="comment">#&#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># deny access to .htaccess files, if Apache's document root</span></span><br><span class="line">        <span class="comment"># concurs with nginx's one</span></span><br><span class="line">        <span class="comment">#</span></span><br><span class="line">        <span class="comment">#location ~ /\.ht &#123;</span></span><br><span class="line">        <span class="comment">#    deny  all;</span></span><br><span class="line">        <span class="comment">#&#125;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># another virtual host using mix of IP-, name-, and port-based configuration</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment">#server &#123;</span></span><br><span class="line">    <span class="comment">#    listen       8000;</span></span><br><span class="line">    <span class="comment">#    listen       somename:8080;</span></span><br><span class="line">    <span class="comment">#    server_name  somename  alias  another.alias;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#    location / &#123;</span></span><br><span class="line">    <span class="comment">#        root   html;</span></span><br><span class="line">    <span class="comment">#        index  index.html index.htm;</span></span><br><span class="line">    <span class="comment">#    &#125;</span></span><br><span class="line">    <span class="comment">#&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># HTTPS server</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment">#server &#123;</span></span><br><span class="line">    <span class="comment">#    listen       443 ssl;</span></span><br><span class="line">    <span class="comment">#    server_name  localhost;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#    ssl_certificate      cert.pem;</span></span><br><span class="line">    <span class="comment">#    ssl_certificate_key  cert.key;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#    ssl_session_cache    shared:SSL:1m;</span></span><br><span class="line">    <span class="comment">#    ssl_session_timeout  5m;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#    ssl_ciphers  HIGH:!aNULL:!MD5;</span></span><br><span class="line">    <span class="comment">#    ssl_prefer_server_ciphers  on;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#    location / &#123;</span></span><br><span class="line">    <span class="comment">#        root   html;</span></span><br><span class="line">    <span class="comment">#        index  index.html index.htm;</span></span><br><span class="line">    <span class="comment">#    &#125;</span></span><br><span class="line">    <span class="comment">#&#125;</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>=<a href="./attachments/nginx-1.12.2.zip">nginx</a></p>
<p>  跨域问题解决，现在来看 请求数据问题</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/4/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/6/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Pling Huang</p>
              <p class="site-description motion-element" itemprop="description">个人学习笔记，仅供本人复习</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">70</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">categories</span>
                
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">21</span>
                  <span class="site-state-item-name">tags</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Pling Huang</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
